@mixin typography-scale($viewport, $font-size, $line-height) {
	@include breakpoint-viewport($viewport) {
		font-size: $font-size;
		line-height: $line-height;
	}
}

@mixin override-typography-scale($viewport, $font-size, $line-height) {
	@include breakpoint-viewport($viewport) {
		font-size: $font-size !important;
		line-height: $line-height !important;
	}
}

body {

	font-family: $typography-base-stack;
	font-size: $typography-base-size-xs;
	line-height: $base-unit-xs;
	font-weight: 300;
	
	text-rendering: optimizeLegibility;
	
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
	
	-moz-hyphens: auto;
	-webkit-hyphens: auto;
    hyphens: auto;

	-webkit-font-feature-settings: "kern", "liga", "case";
	-moz-font-feature-settings: "kern", "liga" , "case";
	-moz-font-feature-settings: "kern" 1, "liga" 1, "case" 1;
	font-feature-settings: "kern", "liga", "case";

	@include typography-scale($viewport-s, $typography-base-size-s, $base-unit-s);
	@include typography-scale($viewport-m, $typography-base-size-m, $base-unit-m);
	@include typography-scale($viewport-l, $typography-base-size-l, $base-unit-l);
	@include typography-scale($viewport-xl, $typography-base-size-xl, $base-unit-xl);
}

// Type: Medium

.type-m,
.type-display-m {

	font-size: $typography-base-size-xs;
	line-height: $base-unit-xs;

	@include typography-scale($viewport-s, $typography-base-size-s, $base-unit-s);
	@include typography-scale($viewport-m, $typography-base-size-m, $base-unit-m);
	@include typography-scale($viewport-l, $typography-base-size-l, $base-unit-l);
	@include typography-scale($viewport-xl, $typography-base-size-xl, $base-unit-xl);
}

.type-m-s {
	font-size: $typography-base-size-xs;
	line-height: $base-unit-xs;
}
.type-m-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s, $base-unit-s);
}
.type-m-m {
	@include override-typography-scale($viewport-m, $typography-base-size-m, $base-unit-m);
}
.type-m-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l, $base-unit-l);
}
.type-m-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl, $base-unit-xl);
}

// Type: Small


.type-s,
.type-display-s {

	@extend .type-m;

	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, -1);
	line-height: $base-unit-xs * 4/5;

	@include typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, -1), $base-unit-s * 4/5);
	@include typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, -1), $base-unit-m * 4/5);
	@include typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, -1), $base-unit-l * 4/5);
	@include typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, -1), $base-unit-xl * 4/5);
}

.type-s-xs {
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, -1);
	line-height: $base-unit-xs * 4/5;
}
.type-s-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, -1), $base-unit-s * 4/5);
}
.type-s-m {
	@include override-typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, -1), $base-unit-m * 4/5);
}
.type-s-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, -1), $base-unit-l * 4/5);
}
.type-s-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, -1), $base-unit-xl * 4/5);
}

// Type: Large

.type-l,
.type-display-l {

	@extend .type-m;

	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 1);
	line-height: sizer($base-unit-xs, 1, 1/6);

	@include typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 1), sizer($base-unit-s, 1, 1/6));
	@include typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 1), sizer($base-unit-m, 1, 1/5));
	@include typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 1), sizer($base-unit-l, 1, 1/4));
	@include typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 1), sizer($base-unit-xl, 1, 1/4));
}

.type-l-xs {
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 1);
	line-height: sizer($base-unit-xs, 1, 1/6);	
}
.type-l-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 1), sizer($base-unit-s, 1, 1/6));
}
.type-l-l {
	@include override-typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 1), sizer($base-unit-m, 1, 1/5));
}
.type-l-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 1), sizer($base-unit-l, 1, 1/4));
}
.type-l-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 1), sizer($base-unit-xl, 1, 1/4));
}

// Type: X-Large

.type-xl,
.type-display-xl {

	@extend .type-m;
	
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 2);
	line-height: sizer($base-unit-xs, 1, 1/3);

	@include typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 2), sizer($base-unit-s, 1, 1/4));
	@include typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 2), sizer($base-unit-m, 1, 1/2));
	@include typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 2), sizer($base-unit-l, 1, 3/4));
	@include typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 2), sizer($base-unit-xl, 1, 3/4));
}

.type-xl-xs {
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 2);
	line-height: sizer($base-unit-xs, 1, 1/4);
}
.type-xl-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 2), sizer($base-unit-s, 1, 1/4));
}
.type-xl-m {
	@include override-typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 2), sizer($base-unit-m, 1, 1/2));
}
.type-xl-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 2), sizer($base-unit-l, 1, 3/4));
}
.type-xl-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 2), sizer($base-unit-xl, 1, 3/4));
}

// Type: XX-Large

.type-xxl,
.type-display-xxl {

	@extend .type-m;

	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 3);
	line-height: sizer($base-unit-xs, 1, 1/2);

	@include typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 3), sizer($base-unit-s, 1, 1/2));
	@include typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 3), sizer($base-unit-m, 1, 3/4));
	@include typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 3), sizer($base-unit-l, 2, 1/4));
	@include typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 3), sizer($base-unit-xl, 2, 1/4));
}

.type-xxl-xs {
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 3);
	line-height: sizer($base-unit-xs, 1, 1/2);
}
.type-xxl-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 3), sizer($base-unit-s, 1, 1/2));
}
.type-xxl-m {
	@include override-typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 3), sizer($base-unit-m, 1, 3/4));
}
.type-xxl-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 3), sizer($base-unit-l, 2, 1/4));
}
.type-xxl-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 3), sizer($base-unit-xl, 2, 1/4));
}

// Type: XXX-Large

.type-xxxl,
.type-display-xxxl {

	@extend .type-m;

	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 4);
	line-height: sizer($base-unit-xs, 1, 3/4);

	@include typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 4), sizer($base-unit-s, 1, 3/4));
	@include typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 4), sizer($base-unit-m, 2, 0));
	@include typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 4), sizer($base-unit-l, 3, 1/4));
	@include typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 4), sizer($base-unit-xl, 3, 1/4));
}

.type-xxxl-xs {
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 4);
	line-height: sizer($base-unit-xs, 1, 3/4);
}
.type-xxxl-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 4), sizer($base-unit-s, 1, 3/4));
}
.type-xxxl-m {
	@include override-typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 4), sizer($base-unit-m, 2, 0));
}
.type-xxxl-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 4), sizer($base-unit-l, 3, 1/4));
}
.type-xxxl-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 4), sizer($base-unit-xl, 3, 1/4));
}

// Type: XXXX-Large

.type-xxxxl,
.type-display-xxxxl {

	@extend .type-m;

	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 5);
	line-height: sizer($base-unit-xs, 2, 0);

	@include typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 5), sizer($base-unit-s, 2, 0));
	@include typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 5), sizer($base-unit-m, 2, 1/2));
	@include typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 5), sizer($base-unit-l, 4, 1/4));
	@include typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 5), sizer($base-unit-xl, 4, 1/4));
}
.type-xxxxl-xs {
	font-size: $typography-base-size-xs * pow($typography-modular-scale-xs, 5);
	line-height: sizer($base-unit-xs, 2, 0);
}
.type-xxxxl-s {
	@include override-typography-scale($viewport-s, $typography-base-size-s * pow($typography-modular-scale-s, 5), sizer($base-unit-s, 2, 0));
}
.type-xxxxl-m {
	@include override-typography-scale($viewport-m, $typography-base-size-m * pow($typography-modular-scale-m, 5), sizer($base-unit-m, 2, 1/2));
}
.type-xxxxl-l {
	@include override-typography-scale($viewport-l, $typography-base-size-l * pow($typography-modular-scale-l, 5), sizer($base-unit-l, 4, 1/4));
}
.type-xxxxl-xl {
	@include override-typography-scale($viewport-xl, $typography-base-size-xl * pow($typography-modular-scale-xl, 5), sizer($base-unit-xl, 4, 1/4));
}

.type-display-s,
.type-display-m,
.type-display-l,
.type-display-xl,
.type-display-xxl,
.type-display-xxxl,
.type-display-xxxxl {

	font-family: $typography-display-stack;
}